<div class="container">
	<nav class="navbar navbar-expand-lg justify-content-between navbar-light my-5">
		<h4 class="navtitle mb-2"> Categorii </h4>
		<div class="form-inline ml-auto">
			<app-table-search [pager]="pager" id=2 (searchChanged)="searchChanged($event)"></app-table-search>
			<div class="btn-group btn-group-toggle m-2 hidden-radio" ngbRadioGroup name="radioBasic"
				 [(ngModel)]="displayBlock">
				<label ngbButtonLabel (click)="switchToBlock()" class="btn btn-primary">
					<input ngbButton type="radio" [value]="true"><span class="fa fa-th-large"></span>
				</label>
				<label ngbButtonLabel (click)="switchToList()" class="btn btn-primary">
					<input ngbButton type="radio" [value]="false"><span class="fa fa-bars"></span>
				</label>
			</div>
			<button (click)="addCategory()" class="add-btn btn-adjusting btn btn-info btn-rounded m-2">
				<span class="fa fa-plus-circle"></span>&nbsp;&nbsp;AdaugÄƒ Categorie
			</button>
		</div>
	</nav>
	<div class="filters my-3 mx-30px row">
		<span class="padding-rem">Total: {{pager.total}}</span>
	</div>
	<div *ngIf="displayBlock; else displayList" class="cardlist row mt-5">
		<div *ngFor="let category of categoriesData" class="d-flex col-md-6 col-sm-12 col-lg-4">
			<div class="card mb-2" style="flex-grow: 1" (click)="viewDetails(category)">
				<div class="card-body">
					<a class="btn btn-fix text-left">
						<h4 class="card-title">{{category.name}}</h4>
						<h4 class="card-title">{{category.subCategories.length}}</h4>
					</a>
				</div>
			</div>
		</div>
		<div class="col-md-12  mx-30px">
			<ngb-pagination
				[maxSize]="5"
				[(page)]="pager.page"
				[pageSize]="pager.size"
				(pageChange)="getData()"
				[collectionSize]="pager.total">
			</ngb-pagination>
		</div>
	</div>
	<ng-template #displayList>
		<div class="table-categoryponsive">
			<table class="table customTable table-sm">
				<thead>
				<tr>
					<th scope="col">Nume Categorie</th>
					<th scope="col">Subcategorii</th>
				</tr>
				</thead>
				<tbody>
				<tr *ngFor="let category of categoriesData">
					<!-- <tr> -->
					<td>{{category.name}}</td>
					<td>{{category.subCategories.length}}</td>
					<td class="text-right">
						<button class="btn btn-info"
								[routerLink]="['id',category.id]">Vezi detalii
						</button>
					</td>
				</tr>
				</tbody>
			</table>
		</div>
	</ng-template>
</div>
